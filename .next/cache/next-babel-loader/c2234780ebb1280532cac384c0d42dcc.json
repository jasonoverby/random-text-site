{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport fetch from 'isomorphic-unfetch';\n\nvar getPOS =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(word) {\n    var pos, datamuseApiRes, datamuseApiJson, wordObj, tags;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            pos = [];\n            _context.next = 3;\n            return fetch(\"https://api.datamuse.com/words?sp=\".concat(word, \"&md=p&max=1\"));\n\n          case 3:\n            datamuseApiRes = _context.sent;\n            _context.next = 6;\n            return datamuseApiRes.json();\n\n          case 6:\n            datamuseApiJson = _context.sent;\n            wordObj = datamuseApiJson[0];\n\n            if (!(wordObj && wordObj.tags)) {\n              _context.next = 11;\n              break;\n            }\n\n            tags = wordObj.tags;\n            return _context.abrupt(\"return\", tags);\n\n          case 11:\n            return _context.abrupt(\"return\", ['prop']);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getPOS(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar wordIsThisPOS =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(word, pos) {\n    var datamuseApiRes, datamuseApiJson, wordObj, tags;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetch(\"https://api.datamuse.com/words?sp=\".concat(word, \"&md=p&max=1\"));\n\n          case 2:\n            datamuseApiRes = _context2.sent;\n            _context2.next = 5;\n            return datamuseApiRes.json();\n\n          case 5:\n            datamuseApiJson = _context2.sent;\n            // console.log(datamuseApiJson);\n            wordObj = datamuseApiJson[0];\n\n            if (!(wordObj && wordObj.tags)) {\n              _context2.next = 10;\n              break;\n            }\n\n            tags = wordObj.tags;\n            return _context2.abrupt(\"return\", tags.includes(pos));\n\n          case 10:\n            return _context2.abrupt(\"return\", false);\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function wordIsThisPOS(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar isPos = function isPos(str) {\n  var validPos = ['adj', 'adv', 'conjunctions', 'determiners', 'n', 'v', 'prop'];\n  return validPos.includes(str);\n};\n\nvar isMuseApiPartOfSpeech = function isMuseApiPartOfSpeech(str) {\n  var validPos = ['adj', 'adv', 'n', 'v', 'prop'];\n  return validPos.includes(str);\n};\n\nexport { getPOS, wordIsThisPOS, isPos, isMuseApiPartOfSpeech };","map":{"version":3,"sources":["/Users/jasonoverby/p/random-text-site/random-text/src/pos.ts"],"names":["fetch","getPOS","word","pos","datamuseApiRes","json","datamuseApiJson","wordObj","tags","wordIsThisPOS","includes","isPos","str","validPos","isMuseApiPartOfSpeech"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;;AASA,IAAMC,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACPC,YAAAA,GADO,GACuB,EADvB;AAAA;AAAA,mBAEqBH,KAAK,6CACAE,IADA,iBAF1B;;AAAA;AAEPE,YAAAA,cAFO;AAAA;AAAA,mBAKiBA,cAAc,CAACC,IAAf,EALjB;;AAAA;AAKPC,YAAAA,eALO;AAMPC,YAAAA,OANO,GAMQD,eAAe,CAAC,CAAD,CANvB;;AAAA,kBAOTC,OAAO,IAAIA,OAAO,CAACC,IAPV;AAAA;AAAA;AAAA;;AAQHA,YAAAA,IARG,GAQMD,OARN,CAQHC,IARG;AAAA,6CASJA,IATI;;AAAA;AAAA,6CAYN,CAAC,MAAD,CAZM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANP,MAAM;AAAA;AAAA;AAAA,GAAZ;;AAeA,IAAMQ,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBACpBP,IADoB,EAEpBC,GAFoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAIcH,KAAK,6CACAE,IADA,iBAJnB;;AAAA;AAIdE,YAAAA,cAJc;AAAA;AAAA,mBAOUA,cAAc,CAACC,IAAf,EAPV;;AAAA;AAOdC,YAAAA,eAPc;AAQpB;AACMC,YAAAA,OATc,GASCD,eAAe,CAAC,CAAD,CAThB;;AAAA,kBAUhBC,OAAO,IAAIA,OAAO,CAACC,IAVH;AAAA;AAAA;AAAA;;AAWVA,YAAAA,IAXU,GAWDD,OAXC,CAWVC,IAXU;AAAA,8CAYXA,IAAI,CAACE,QAAL,CAAcP,GAAd,CAZW;;AAAA;AAAA,8CAeb,KAfa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbM,aAAa;AAAA;AAAA;AAAA,GAAnB;;AAiBA,IAAME,KAAK,GAAG,SAARA,KAAQ,CAACC,GAAD,EAA6B;AACzC,MAAMC,QAAQ,GAAG,CACf,KADe,EAEf,KAFe,EAGf,cAHe,EAIf,aAJe,EAKf,GALe,EAMf,GANe,EAOf,MAPe,CAAjB;AASA,SAAOA,QAAQ,CAACH,QAAT,CAAkBE,GAAlB,CAAP;AACD,CAXD;;AAYA,IAAME,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACF,GAAD,EAA8C;AAC1E,MAAMC,QAAQ,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,GAAf,EAAoB,GAApB,EAAyB,MAAzB,CAAjB;AACA,SAAOA,QAAQ,CAACH,QAAT,CAAkBE,GAAlB,CAAP;AACD,CAHD;;AAKA,SAASX,MAAT,EAAiBQ,aAAjB,EAAgCE,KAAhC,EAAuCG,qBAAvC","sourcesContent":["import fetch from 'isomorphic-unfetch';\n\ntype MuseApiPartsOfSpeech = 'adj' | 'adv' | 'v' | 'n' | 'prop';\ntype Pos =\n  | MuseApiPartsOfSpeech\n  | 'determiners'\n  | 'conjunctions'\n  | 'prepositions';\n\nconst getPOS = async (word: string): Promise<MuseApiPartsOfSpeech[]> => {\n  const pos: MuseApiPartsOfSpeech[] = [];\n  const datamuseApiRes: any = await fetch(\n    `https://api.datamuse.com/words?sp=${word}&md=p&max=1`,\n  );\n  const datamuseApiJson = await datamuseApiRes.json();\n  const wordObj: any = datamuseApiJson[0];\n  if (wordObj && wordObj.tags) {\n    const { tags } = wordObj;\n    return tags;\n  }\n\n  return ['prop'];\n};\n\nconst wordIsThisPOS = async (\n  word: string,\n  pos: MuseApiPartsOfSpeech,\n): Promise<boolean> => {\n  const datamuseApiRes: any = await fetch(\n    `https://api.datamuse.com/words?sp=${word}&md=p&max=1`,\n  );\n  const datamuseApiJson = await datamuseApiRes.json();\n  // console.log(datamuseApiJson);\n  const wordObj: any = datamuseApiJson[0];\n  if (wordObj && wordObj.tags) {\n    const { tags } = wordObj;\n    return tags.includes(pos);\n  }\n  // TODO: REMOVE from randomWords\n  return false;\n};\nconst isPos = (str: string): str is Pos => {\n  const validPos = [\n    'adj',\n    'adv',\n    'conjunctions',\n    'determiners',\n    'n',\n    'v',\n    'prop',\n  ];\n  return validPos.includes(str);\n};\nconst isMuseApiPartOfSpeech = (str: string): str is MuseApiPartsOfSpeech => {\n  const validPos = ['adj', 'adv', 'n', 'v', 'prop'];\n  return validPos.includes(str);\n};\n\nexport { getPOS, wordIsThisPOS, isPos, isMuseApiPartOfSpeech };\n"]},"metadata":{},"sourceType":"module"}