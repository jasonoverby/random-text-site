{"ast":null,"code":"var _jsxFileName = \"/Users/jasonoverby/p/random-text-site/pages/index.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport AwesomeDebouncePromise from 'awesome-debounce-promise';\nimport getRandomPhrase from '../random-text/src/get-random-text';\nimport { getRandomWords } from '../random-text/src/utils';\nconst NUMBER_OF_PHRASES = 3;\nconst STARTER_PHRASE = 'get random text';\n\nconst getRandomPhrases = async randomWords => {\n  const phrases = [];\n\n  for (let i = 0; i < NUMBER_OF_PHRASES; i += 1) {\n    try {\n      const phrase = await getRandomPhrase(randomWords);\n      phrases.push(phrase);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  return phrases;\n};\n\nconst getRandomPhrasesDebounced = AwesomeDebouncePromise(getRandomPhrases, 500);\n\nconst RandomText = ({\n  randomWords\n}) => {\n  const {\n    0: phrases,\n    1: setPhrases\n  } = useState([STARTER_PHRASE]);\n  const {\n    0: phrase,\n    1: setPhrase\n  } = useState(STARTER_PHRASE); // useEffect(() => {\n  //   if (!phrases || phrases.length === 0) {\n  //     getRandomPhrases(randomWords).then((newPhrases) => {\n  //       setPhrases(phrases);\n  //     });\n  //   }\n  // });\n\n  const handleClick = () => {\n    console.log('phrases', phrases);\n    setPhrase(phrases[0]);\n    let newPhrases = phrases && phrases.slice(1) || [];\n\n    if (newPhrases.length <= 1) {\n      getRandomPhrasesDebounced(randomWords).then(randomPhrases => {\n        setPhrases(newPhrases.concat(randomPhrases));\n      });\n    } else {\n      newPhrases = phrases.slice(1);\n      setPhrases(newPhrases);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-1924471468\" + \" \" + \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    onClick: handleClick,\n    className: \"jsx-1924471468\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, phrase), __jsx(_JSXStyle, {\n    id: \"1924471468\",\n    __self: this\n  }, \"@import url('https://fonts.googleapis.com/css?family=Fira+Code&display=swap');body{background:#000;}.container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100vh;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}h1{color:rgb(255,235,238);cursor:pointer;font:32px 'fira code',menlo,helvetica,arial,sans-serif;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYXNvbm92ZXJieS9wL3JhbmRvbS10ZXh0LXNpdGUvcGFnZXMvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1EUyxBQUV3RixBQUUzRCxBQUlILEFBT1ksZ0JBVjNCLE9BV2lCLGVBQzRDLG9DQVI5QyxhQUNVLE1BUXpCLDZGQVBxQiw2RkFDckIiLCJmaWxlIjoiL1VzZXJzL2phc29ub3ZlcmJ5L3AvcmFuZG9tLXRleHQtc2l0ZS9wYWdlcy9pbmRleC50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF3ZXNvbWVEZWJvdW5jZVByb21pc2UgZnJvbSAnYXdlc29tZS1kZWJvdW5jZS1wcm9taXNlJztcbmltcG9ydCBnZXRSYW5kb21QaHJhc2UgZnJvbSAnLi4vcmFuZG9tLXRleHQvc3JjL2dldC1yYW5kb20tdGV4dCc7XG5pbXBvcnQgeyBnZXRSYW5kb21Xb3JkcyB9IGZyb20gJy4uL3JhbmRvbS10ZXh0L3NyYy91dGlscyc7XG5cbmNvbnN0IE5VTUJFUl9PRl9QSFJBU0VTID0gMztcbmNvbnN0IFNUQVJURVJfUEhSQVNFID0gJ2dldCByYW5kb20gdGV4dCc7XG5cbmNvbnN0IGdldFJhbmRvbVBocmFzZXMgPSBhc3luYyAocmFuZG9tV29yZHM6IHN0cmluZ1tdKSA9PiB7XG4gIGNvbnN0IHBocmFzZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBOVU1CRVJfT0ZfUEhSQVNFUzsgaSArPSAxKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBocmFzZSA9IGF3YWl0IGdldFJhbmRvbVBocmFzZShyYW5kb21Xb3Jkcyk7XG4gICAgICBwaHJhc2VzLnB1c2gocGhyYXNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfVxuICB9XG4gIHJldHVybiBwaHJhc2VzO1xufTtcbmNvbnN0IGdldFJhbmRvbVBocmFzZXNEZWJvdW5jZWQgPSBBd2Vzb21lRGVib3VuY2VQcm9taXNlKGdldFJhbmRvbVBocmFzZXMsIDUwMCk7XG5cbmNvbnN0IFJhbmRvbVRleHQgPSAoeyByYW5kb21Xb3JkcyB9OiB7IHJhbmRvbVdvcmRzOiBzdHJpbmdbXSB9KSA9PiB7XG4gIGNvbnN0IFtwaHJhc2VzLCBzZXRQaHJhc2VzXSA9IHVzZVN0YXRlKFtTVEFSVEVSX1BIUkFTRV0pO1xuICBjb25zdCBbcGhyYXNlLCBzZXRQaHJhc2VdID0gdXNlU3RhdGUoU1RBUlRFUl9QSFJBU0UpO1xuICAvLyB1c2VFZmZlY3QoKCkgPT4ge1xuICAvLyAgIGlmICghcGhyYXNlcyB8fCBwaHJhc2VzLmxlbmd0aCA9PT0gMCkge1xuICAvLyAgICAgZ2V0UmFuZG9tUGhyYXNlcyhyYW5kb21Xb3JkcykudGhlbigobmV3UGhyYXNlcykgPT4ge1xuICAvLyAgICAgICBzZXRQaHJhc2VzKHBocmFzZXMpO1xuICAvLyAgICAgfSk7XG4gIC8vICAgfVxuICAvLyB9KTtcblxuICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygncGhyYXNlcycsIHBocmFzZXMpO1xuICAgIHNldFBocmFzZShwaHJhc2VzWzBdKTtcbiAgICBsZXQgbmV3UGhyYXNlcyA9IChwaHJhc2VzICYmIHBocmFzZXMuc2xpY2UoMSkpIHx8IFtdO1xuICAgIGlmIChuZXdQaHJhc2VzLmxlbmd0aCA8PSAxKSB7XG4gICAgICBnZXRSYW5kb21QaHJhc2VzRGVib3VuY2VkKHJhbmRvbVdvcmRzKS50aGVuKChyYW5kb21QaHJhc2VzKSA9PiB7XG4gICAgICAgIHNldFBocmFzZXMobmV3UGhyYXNlcy5jb25jYXQocmFuZG9tUGhyYXNlcykpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1BocmFzZXMgPSBwaHJhc2VzLnNsaWNlKDEpO1xuICAgICAgc2V0UGhyYXNlcyhuZXdQaHJhc2VzKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPGgxIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfT57cGhyYXNlfTwvaDE+XG4gICAgICA8c3R5bGUganN4IGdsb2JhbD5cbiAgICAgICAge2BcbiAgICAgICAgICBAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PUZpcmErQ29kZSZkaXNwbGF5PXN3YXAnKTtcbiAgICAgICAgICBib2R5IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBoMSB7XG4gICAgICAgICAgICBjb2xvcjogcmdiKDI1NSwgMjM1LCAyMzgpO1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgZm9udDogMzJweCAnZmlyYSBjb2RlJywgbWVubG8sIGhlbHZldGljYSwgYXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgfVxuICAgICAgICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmNvbnN0IGdldEluaXRpYWxQcm9wcyA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgcmFuZG9tV29yZHMgPSBhd2FpdCBnZXRSYW5kb21Xb3JkcygpO1xuICByZXR1cm4geyByYW5kb21Xb3JkcyB9O1xufTtcblJhbmRvbVRleHQuZ2V0SW5pdGlhbFByb3BzID0gZ2V0SW5pdGlhbFByb3BzO1xuXG5leHBvcnQgZGVmYXVsdCBSYW5kb21UZXh0O1xuIl19 */\\n/*@ sourceURL=/Users/jasonoverby/p/random-text-site/pages/index.tsx */\"));\n};\n\nconst getInitialProps = async () => {\n  const randomWords = await getRandomWords();\n  return {\n    randomWords\n  };\n};\n\nRandomText.getInitialProps = getInitialProps;\nexport default RandomText;","map":{"version":3,"sources":["/Users/jasonoverby/p/random-text-site/pages/index.tsx"],"names":["useState","AwesomeDebouncePromise","getRandomPhrase","getRandomWords","NUMBER_OF_PHRASES","STARTER_PHRASE","getRandomPhrases","randomWords","phrases","i","phrase","push","err","console","log","getRandomPhrasesDebounced","RandomText","setPhrases","setPhrase","handleClick","newPhrases","slice","length","then","randomPhrases","concat","getInitialProps"],"mappings":";;;;AAAA,SAASA,QAAT,QAAoC,OAApC;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AACA,SAASC,cAAT,QAA+B,0BAA/B;AAEA,MAAMC,iBAAiB,GAAG,CAA1B;AACA,MAAMC,cAAc,GAAG,iBAAvB;;AAEA,MAAMC,gBAAgB,GAAG,MAAOC,WAAP,IAAiC;AACxD,QAAMC,OAAO,GAAG,EAAhB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,iBAApB,EAAuCK,CAAC,IAAI,CAA5C,EAA+C;AAC7C,QAAI;AACF,YAAMC,MAAM,GAAG,MAAMR,eAAe,CAACK,WAAD,CAApC;AACAC,MAAAA,OAAO,CAACG,IAAR,CAAaD,MAAb;AACD,KAHD,CAGE,OAAOE,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF;;AACD,SAAOJ,OAAP;AACD,CAXD;;AAYA,MAAMO,yBAAyB,GAAGd,sBAAsB,CAACK,gBAAD,EAAmB,GAAnB,CAAxD;;AAEA,MAAMU,UAAU,GAAG,CAAC;AAAET,EAAAA;AAAF,CAAD,KAAgD;AACjE,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUS;AAAV,MAAwBjB,QAAQ,CAAC,CAACK,cAAD,CAAD,CAAtC;AACA,QAAM;AAAA,OAACK,MAAD;AAAA,OAASQ;AAAT,MAAsBlB,QAAQ,CAACK,cAAD,CAApC,CAFiE,CAGjE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMc,WAAW,GAAG,MAAM;AACxBN,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBN,OAAvB;AACAU,IAAAA,SAAS,CAACV,OAAO,CAAC,CAAD,CAAR,CAAT;AACA,QAAIY,UAAU,GAAIZ,OAAO,IAAIA,OAAO,CAACa,KAAR,CAAc,CAAd,CAAZ,IAAiC,EAAlD;;AACA,QAAID,UAAU,CAACE,MAAX,IAAqB,CAAzB,EAA4B;AAC1BP,MAAAA,yBAAyB,CAACR,WAAD,CAAzB,CAAuCgB,IAAvC,CAA6CC,aAAD,IAAmB;AAC7DP,QAAAA,UAAU,CAACG,UAAU,CAACK,MAAX,CAAkBD,aAAlB,CAAD,CAAV;AACD,OAFD;AAGD,KAJD,MAIO;AACLJ,MAAAA,UAAU,GAAGZ,OAAO,CAACa,KAAR,CAAc,CAAd,CAAb;AACAJ,MAAAA,UAAU,CAACG,UAAD,CAAV;AACD;AACF,GAZD;;AAcA,SACE;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,OAAO,EAAED,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BT,MAA3B,CADF;AAAA;AAAA;AAAA,0mIADF;AA0BD,CAnDD;;AAqDA,MAAMgB,eAAe,GAAG,YAAY;AAClC,QAAMnB,WAAW,GAAG,MAAMJ,cAAc,EAAxC;AACA,SAAO;AAAEI,IAAAA;AAAF,GAAP;AACD,CAHD;;AAIAS,UAAU,CAACU,eAAX,GAA6BA,eAA7B;AAEA,eAAeV,UAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport AwesomeDebouncePromise from 'awesome-debounce-promise';\nimport getRandomPhrase from '../random-text/src/get-random-text';\nimport { getRandomWords } from '../random-text/src/utils';\n\nconst NUMBER_OF_PHRASES = 3;\nconst STARTER_PHRASE = 'get random text';\n\nconst getRandomPhrases = async (randomWords: string[]) => {\n  const phrases = [];\n  for (let i = 0; i < NUMBER_OF_PHRASES; i += 1) {\n    try {\n      const phrase = await getRandomPhrase(randomWords);\n      phrases.push(phrase);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n  return phrases;\n};\nconst getRandomPhrasesDebounced = AwesomeDebouncePromise(getRandomPhrases, 500);\n\nconst RandomText = ({ randomWords }: { randomWords: string[] }) => {\n  const [phrases, setPhrases] = useState([STARTER_PHRASE]);\n  const [phrase, setPhrase] = useState(STARTER_PHRASE);\n  // useEffect(() => {\n  //   if (!phrases || phrases.length === 0) {\n  //     getRandomPhrases(randomWords).then((newPhrases) => {\n  //       setPhrases(phrases);\n  //     });\n  //   }\n  // });\n\n  const handleClick = () => {\n    console.log('phrases', phrases);\n    setPhrase(phrases[0]);\n    let newPhrases = (phrases && phrases.slice(1)) || [];\n    if (newPhrases.length <= 1) {\n      getRandomPhrasesDebounced(randomWords).then((randomPhrases) => {\n        setPhrases(newPhrases.concat(randomPhrases));\n      });\n    } else {\n      newPhrases = phrases.slice(1);\n      setPhrases(newPhrases);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1 onClick={handleClick}>{phrase}</h1>\n      <style jsx global>\n        {`\n          @import url('https://fonts.googleapis.com/css?family=Fira+Code&display=swap');\n          body {\n            background: #000;\n          }\n\n          .container {\n            display: flex;\n            height: 100vh;\n            justify-content: center;\n            align-items: center;\n          }\n\n          h1 {\n            color: rgb(255, 235, 238);\n            cursor: pointer;\n            font: 32px 'fira code', menlo, helvetica, arial, sans-serif;\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n\nconst getInitialProps = async () => {\n  const randomWords = await getRandomWords();\n  return { randomWords };\n};\nRandomText.getInitialProps = getInitialProps;\n\nexport default RandomText;\n"]},"metadata":{},"sourceType":"module"}